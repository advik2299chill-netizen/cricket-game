<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cricket Striker - Full Field</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .game-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 900px;
            width: 100%;
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .tagline {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .game-screen {
            padding: 30px;
            min-height: 500px;
        }

        .screen {
            display: block;
        }

        .screen.hidden {
            display: none;
        }

        #startScreen {
            text-align: center;
        }

        #startScreen h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 2em;
        }

        #startScreen > p {
            color: #666;
            margin-bottom: 30px;
            font-size: 1.2em;
        }

        .instructions {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 30px 0;
            text-align: left;
        }

        .instructions h3 {
            color: #333;
            margin-bottom: 15px;
        }

        .instructions ul {
            list-style: none;
        }

        .instructions li {
            padding: 8px 0;
            color: #555;
            font-size: 1em;
        }

        .instructions li:before {
            content: "‚ö° ";
            margin-right: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .btn-hit {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border: none;
            padding: 20px 50px;
            font-size: 1.5em;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.2s;
            box-shadow: 0 4px 15px rgba(245, 87, 108, 0.4);
            font-weight: bold;
        }

        .btn-hit:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(245, 87, 108, 0.6);
        }

        .btn-hit:active {
            transform: scale(0.98);
        }

        .scoreboard {
            display: flex;
            justify-content: space-around;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .score-item {
            text-align: center;
        }

        .score-item .label {
            display: block;
            color: #666;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .score-item .value {
            display: block;
            color: #333;
            font-size: 2em;
            font-weight: bold;
        }

        #gameCanvas {
            display: block;
            margin: 20px auto;
            border: 3px solid #333;
            border-radius: 10px;
            background: linear-gradient(to bottom, #87ceeb 0%, #98d8c8 100%);
            max-width: 100%;
            height: auto;
        }

        .controls {
            text-align: center;
            margin: 20px 0;
        }

        .message {
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            min-height: 40px;
            margin-top: 20px;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #gameOverScreen {
            text-align: center;
        }

        #gameOverScreen h2 {
            color: #333;
            font-size: 2.5em;
            margin-bottom: 30px;
        }

        .final-score {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .final-score p {
            font-size: 1em;
            opacity: 0.9;
        }

        .final-score h1 {
            font-size: 4em;
            margin: 10px 0;
        }

        .stats {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: left;
        }

        .stats p {
            padding: 8px 0;
            color: #555;
            font-size: 1.1em;
        }

        footer {
            background: #333;
            color: white;
            text-align: center;
            padding: 20px;
        }

        footer p {
            opacity: 0.8;
        }

        @media (max-width: 850px) {
            #gameCanvas {
                width: 100%;
                height: auto;
            }
            
            header h1 {
                font-size: 2em;
            }
            
            .btn-hit {
                font-size: 1.2em;
                padding: 15px 30px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <header>
            <h1>üèè Cricket Striker - Full Field</h1>
            <p class="tagline">Control your batsman and smash it!</p>
        </header>

        <div class="game-screen" id="gameScreen">
            <div class="screen" id="startScreen">
                <h2>Welcome to Cricket Striker!</h2>
                <p>Full cricket field experience with bowler & batsman!</p>
                <div class="instructions">
                    <h3>How to Play:</h3>
                    <ul>
                        <li>Use <strong>‚Üê ‚Üí ARROW KEYS</strong> to move your batsman</li>
                        <li>Press <strong>SPACEBAR</strong> or click <strong>HIT</strong> to swing</li>
                        <li>Watch the bowler's run-up and release!</li>
                        <li>Time your shot when ball is in the zones</li>
                        <li>üü¢ Green zone = 4 or 6 runs!</li>
                        <li>üü° Yellow zone = 1-2 runs</li>
                        <li>‚ùå Miss = OUT! Only 2 outs allowed!</li>
                    </ul>
                </div>
                <button class="btn-primary" onclick="startGame()">Start Game</button>
            </div>

            <div class="screen hidden" id="playScreen">
                <div class="scoreboard">
                    <div class="score-item">
                        <span class="label">Score:</span>
                        <span class="value" id="score">0</span>
                    </div>
                    <div class="score-item">
                        <span class="label">Balls:</span>
                        <span class="value" id="balls">0</span>
                    </div>
                    <div class="score-item">
                        <span class="label">Outs:</span>
                        <span class="value" id="outs">0/2</span>
                    </div>
                </div>

                <canvas id="gameCanvas" width="800" height="600"></canvas>

                <div class="controls">
                    <button class="btn-hit" id="hitBtn" onclick="swing()">HIT! (Spacebar)</button>
                </div>

                <div class="message" id="message"></div>
            </div>

            <div class="screen hidden" id="gameOverScreen">
                <h2>Game Over!</h2>
                <div class="final-score">
                    <p>Final Score</p>
                    <h1 id="finalScore">0</h1>
                    <p id="finalBalls">Balls Faced: 0</p>
                </div>
                <div class="stats" id="stats"></div>
                <button class="btn-primary" onclick="restartGame()">Play Again</button>
            </div>
        </div>

        <footer>
            <p>Made with ‚ù§Ô∏è for cricket fans</p>
        </footer>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas ? canvas.getContext('2d') : null;

        let gameState = {
            score: 0,
            balls: 0,
            outs: 0,
            maxOuts: 2,
            running: false,
            ballInMotion: false,
            fours: 0,
            sixes: 0,
            ones: 0,
            twos: 0,
            dots: 0
        };

        let ball = {
            x: 0,
            y: 0,
            speed: 4,
            size: 12,
            moving: false,
            swingDirection: 0,
            swingSpeed: 0
        };

        let batsman = {
            x: 400,
            y: 480,
            width: 30,
            height: 60,
            batWidth: 50,
            batHeight: 10,
            swinging: false,
            swingFrame: 0
        };

        let bowler = {
            x: 400,
            y: 50,
            width: 25,
            height: 50,
            runningUp: false,
            runUpFrame: 0,
            armAngle: 0
        };

        let zones = {
            perfect: { start: 370, end: 430, color: '#4caf50', runs: [4, 6] },
            good: { start: 320, end: 480, color: '#ffc107', runs: [1, 2] },
            miss: { color: '#f44336' }
        };

        function startGame() {
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('playScreen').classList.remove('hidden');
            
            resetGameState();
            gameState.running = true;
            
            setTimeout(bowlBall, 1000);
        }

        function resetGameState() {
            gameState.score = 0;
            gameState.balls = 0;
            gameState.outs = 0;
            gameState.fours = 0;
            gameState.sixes = 0;
            gameState.ones = 0;
            gameState.twos = 0;
            gameState.dots = 0;
            
            updateScoreboard();
        }

        function bowlBall() {
            if (!gameState.running) return;
            
            // Start bowler run-up
            bowler.runningUp = true;
            bowler.runUpFrame = 0;
            
            ball.x = 400;
            ball.y = 120;
            ball.moving = false;
            ball.speed = 4 + (gameState.balls * 0.15);
            ball.swingDirection = (Math.random() - 0.5) * 2;
            ball.swingSpeed = Math.random() * 1.2 + 0.5;
            
            document.getElementById('message').textContent = '';
            
            // Animate bowler run-up
            animateBowlerRunUp();
        }

        function animateBowlerRunUp() {
            if (bowler.runUpFrame < 30) {
                bowler.runUpFrame++;
                bowler.y = 50 + bowler.runUpFrame * 2;
                bowler.armAngle = Math.sin(bowler.runUpFrame * 0.3) * 45;
                
                drawScene();
                requestAnimationFrame(animateBowlerRunUp);
            } else {
                // Release the ball
                ball.moving = true;
                gameState.ballInMotion = true;
                bowler.runningUp = false;
                gameLoop();
            }
        }

        function gameLoop() {
            if (!gameState.running || !ball.moving) return;
            
            // Move ball
            ball.y += ball.speed;
            ball.x += ball.swingDirection * ball.swingSpeed;
            
            // Keep ball in bounds
            if (ball.x < 250) ball.x = 250;
            if (ball.x > 550) ball.x = 550;
            
            // Draw everything
            drawScene();
            
            // Check if ball passed batsman
            if (ball.y > batsman.y + 30) {
                if (!batsman.swinging) {
                    ballMissed();
                    return;
                }
            }
            
            if (ball.moving) {
                requestAnimationFrame(gameLoop);
            }
        }

        function drawScene() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw field
            drawField();
            
            // Draw pitch
            drawPitch();
            
            // Draw zones (only when ball is close)
            if (ball.y > 350) {
                drawZones();
            }
            
            // Draw bowler
            drawBowler();
            
            // Draw ball
            if (ball.moving || bowler.runningUp) {
                drawBall();
            }
            
            // Draw batsman
            drawBatsman();
            
            // Draw stumps
            drawStumps();
        }

        function drawField() {
            // Grass
            ctx.fillStyle = '#2d5016';
            ctx.fillRect(0, 0, 800, 600);
            
            // Boundary circle
            ctx.strokeStyle = 'white';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.arc(400, 300, 280, 0, Math.PI * 2);
            ctx.stroke();
            
            // 30-yard circle
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(400, 300, 150, 0, Math.PI * 2);
            ctx.stroke();
        }

        function drawPitch() {
            // Pitch strip
            ctx.fillStyle = '#8b7355';
            ctx.fillRect(350, 100, 100, 450);
            
            // Crease lines
            ctx.strokeStyle = 'white';
            ctx.lineWidth = 3;
            
            // Bowler's crease
            ctx.beginPath();
            ctx.moveTo(320, 120);
            ctx.lineTo(480, 120);
            ctx.stroke();
            
            // Batsman's crease
            ctx.beginPath();
            ctx.moveTo(320, batsman.y + 10);
            ctx.lineTo(480, batsman.y + 10);
            ctx.stroke();
            
            // Popping crease
            ctx.setLineDash([5, 5]);
            ctx.beginPath();
            ctx.moveTo(320, batsman.y - 20);
            ctx.lineTo(480, batsman.y - 20);
            ctx.stroke();
            ctx.setLineDash([]);
        }

        function drawZones() {
            // Perfect zone
            ctx.fillStyle = zones.perfect.color;
            ctx.globalAlpha = 0.3;
            ctx.fillRect(zones.perfect.start, batsman.y - 80, zones.perfect.end - zones.perfect.start, 80);
            
            // Good zone
            ctx.fillStyle = zones.good.color;
            ctx.fillRect(zones.good.start, batsman.y - 80, zones.good.end - zones.good.start, 80);
            
            ctx.globalAlpha = 1;
        }

        function drawBowler() {
            // Bowler body
            ctx.fillStyle = '#2196f3';
            ctx.fillRect(bowler.x - bowler.width/2, bowler.y, bowler.width, bowler.height);
            
            // Head
            ctx.fillStyle = '#ffdbac';
            ctx.beginPath();
            ctx.arc(bowler.x, bowler.y, 12, 0, Math.PI * 2);
            ctx.fill();
            
            // Bowling arm (animated during run-up)
            if (bowler.runningUp) {
                ctx.strokeStyle = '#ffdbac';
                ctx.lineWidth = 4;
                ctx.beginPath();
                ctx.moveTo(bowler.x, bowler.y + 20);
                const armX = bowler.x + Math.cos(bowler.armAngle * Math.PI / 180) * 25;
                const armY = bowler.y + 20 + Math.sin(bowler.armAngle * Math.PI / 180) * 25;
                ctx.lineTo(armX, armY);
                ctx.stroke();
            }
        }

        function drawBall() {
            // Ball shadow
            ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';
            ctx.beginPath();
            ctx.ellipse(ball.x, ball.y + 10, ball.size * 1.2, ball.size * 0.5, 0, 0, Math.PI * 2);
            ctx.fill();
            
            // Ball
            ctx.fillStyle = '#dc143c';
            ctx.beginPath();
            ctx.arc(ball.x, ball.y, ball.size, 0, Math.PI * 2);
            ctx.fill();
            
            // Ball seam
            ctx.strokeStyle = '#8b0000';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.arc(ball.x, ball.y, ball.size - 2, Math.PI * 0.3, Math.PI * 1.7);
            ctx.stroke();
            
            // Shine
            ctx.fillStyle = 'rgba(255, 255, 255, 0.4)';
            ctx.beginPath();
            ctx.arc(ball.x - 4, ball.y - 4, 4, 0, Math.PI * 2);
            ctx.fill();
        }

        function drawBatsman() {
            // Batsman body
            ctx.fillStyle = '#4caf50';
            ctx.fillRect(batsman.x - batsman.width/2, batsman.y, batsman.width, batsman.height);
            
            // Head
            ctx.fillStyle = '#ffdbac';
            ctx.beginPath();
            ctx.arc(batsman.x, batsman.y, 15, 0, Math.PI * 2);
            ctx.fill();
            
            // Helmet
            ctx.fillStyle = '#4caf50';
            ctx.beginPath();
            ctx.arc(batsman.x, batsman.y - 2, 16, Math.PI, 0);
            ctx.fill();
            
            // Bat
            if (batsman.swinging && batsman.swingFrame < 15) {
                batsman.swingFrame++;
                const batAngle = Math.sin(batsman.swingFrame * 0.3) * 60;
                const batX = batsman.x + Math.cos(batAngle * Math.PI / 180) * 40;
                const batY = batsman.y + 30 + Math.sin(batAngle * Math.PI / 180) * 40;
                
                ctx.save();
                ctx.translate(batsman.x, batsman.y + 30);
                ctx.rotate(batAngle * Math.PI / 180);
                ctx.fillStyle = '#8b4513';
                ctx.fillRect(-5, 0, 10, batsman.batWidth);
                ctx.restore();
            } else {
                // Bat at rest
                ctx.fillStyle = '#8b4513';
                ctx.fillRect(batsman.x - batsman.batWidth/2, batsman.y + batsman.height - 10, batsman.batWidth, batsman.batHeight);
            }
            
            // Pads
            ctx.fillStyle = 'white';
            ctx.fillRect(batsman.x - 18, batsman.y + 30, 12, 25);
            ctx.fillRect(batsman.x + 6, batsman.y + 30, 12, 25);
        }

        function drawStumps() {
            // Batsman's stumps
            const stumpX = batsman.x;
            const stumpY = batsman.y + batsman.height + 5;
            
            ctx.fillStyle = '#daa520';
            // Three stumps
            ctx.fillRect(stumpX - 15, stumpY, 4, 30);
            ctx.fillRect(stumpX - 2, stumpY, 4, 30);
            ctx.fillRect(stumpX + 11, stumpY, 4, 30);
            
            // Bails
            ctx.fillStyle = '#ff6b6b';
            ctx.fillRect(stumpX - 17, stumpY - 2, 34, 3);
        }

        function swing() {
            if (!gameState.ballInMotion || batsman.swinging) return;
            
            batsman.swinging = true;
            batsman.swingFrame = 0;
            
            const ballInRange = ball.y >= batsman.y - 90 && ball.y <= batsman.y + 10;
            
            if (ballInRange) {
                checkHit();
            } else {
                setTimeout(() => {
                    if (ball.moving) {
                        ballMissed();
                    }
                }, 200);
            }
        }

        function checkHit() {
            const ballInPerfectZone = ball.y >= batsman.y - 80 && ball.y <= batsman.y &&
                                       ball.x >= zones.perfect.start && ball.x <= zones.perfect.end;
            const ballInGoodZone = ball.y >= batsman.y - 80 && ball.y <= batsman.y &&
                                   ball.x >= zones.good.start && ball.x <= zones.good.end;
            
            ball.moving = false;
            gameState.ballInMotion = false;
            
            let runs = 0;
            let message = '';
            
            if (ballInPerfectZone) {
                runs = zones.perfect.runs[Math.floor(Math.random() * zones.perfect.runs.length)];
                message = runs === 6 ? 'üéâ SIX! What a shot!' : 'üî• FOUR! Boundary!';
                
                if (runs === 6) gameState.sixes++;
                else gameState.fours++;
                
            } else if (ballInGoodZone) {
                runs = zones.good.runs[Math.floor(Math.random() * zones.good.runs.length)];
                message = runs === 2 ? 'üëç Two runs!' : '‚úì Single run';
                
                if (runs === 2) gameState.twos++;
                else gameState.ones++;
                
            } else {
                ballMissed();
                return;
            }
            
            gameState.score += runs;
            gameState.balls++;
            
            updateScoreboard();
            showMessage(message, runs >= 4 ? '#4caf50' : '#ffc107');
            
            setTimeout(() => {
                batsman.swinging = false;
                batsman.x = 400;
                bowler.y = 50;
                bowlBall();
            }, 2500);
        }

        function ballMissed() {
            ball.moving = false;
            gameState.ballInMotion = false;
            gameState.balls++;
            gameState.outs++;
            gameState.dots++;
            
            updateScoreboard();
            showMessage('‚ùå OUT! Bowled!', '#f44336');
            
            if (gameState.outs >= gameState.maxOuts) {
                setTimeout(endGame, 2500);
            } else {
                setTimeout(() => {
                    batsman.swinging = false;
                    batsman.x = 400;
                    bowler.y = 50;
                    bowlBall();
                }, 2500);
            }
        }

        function showMessage(text, color) {
            const messageEl = document.getElementById('message');
            messageEl.textContent = text;
            messageEl.style.color = color;
        }

        function updateScoreboard() {
            document.getElementById('score').textContent = gameState.score;
            document.getElementById('balls').textContent = gameState.balls;
            document.getElementById('outs').textContent = `${gameState.outs}/${gameState.maxOuts}`;
        }

        function endGame() {
            gameState.running = false;
            
            document.getElementById('playScreen').classList.add('hidden');
            document.getElementById('gameOverScreen').classList.remove('hidden');
            
            document.getElementById('finalScore').textContent = gameState.score;
            document.getElementById('finalBalls').textContent = `Balls Faced: ${gameState.balls}`;
            
            const strikeRate = gameState.balls > 0 ? ((gameState.score / gameState.balls) * 100).toFixed(2) : 0;
            
            const statsHTML = `
                <p>‚ö° Strike Rate: ${strikeRate}</p>
                <p>üèè Sixes: ${gameState.sixes}</p>
                <p>üéØ Fours: ${gameState.fours}</p>
                <p>üèÉ Twos: ${gameState.twos}</p>
                <p>üëü Singles: ${gameState.ones}</p>
                <p>‚≠ï Dots: ${gameState.dots}</p>
            `;
            
            document.getElementById('stats').innerHTML = statsHTML;
        }

        function restartGame() {
            document.getElementById('gameOverScreen').classList.add('hidden');
            document.getElementById('playScreen').classList.remove('hidden');
            
            resetGameState();
            gameState.running = true;
            batsman.x = 400;
            bowler.y = 50;
            
            setTimeout(bowlBall, 1000);
        }

        // Keyboard controls
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space' && gameState.running) {
                e.preventDefault();
                swing();
            }
            
            // Arrow key controls for batsman movement
            if (gameState.running && gameState.ballInMotion) {
                if (e.code === 'ArrowLeft') {
                    e.preventDefault();
                    batsman.x = Math.max(batsman.x - 20, 320);
                }
                if (e.code === 'ArrowRight') {
                    e.preventDefault();
                    batsman.x = Math.min(batsman.x + 20, 480);
                }
            }
        });
    </script>
</body>
</html>
